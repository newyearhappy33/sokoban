import { defineStore } from "pinia";
import { useMapStore } from "./map";
export const useNextMap = defineStore("nextMap", () => {
  const { map } = useMapStore();
  const newMap = [
    [
      [1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
      [1, 2, 2, 2, 2, 2, 2, 2, 2, 1],
      [1, 2, 2, 2, 2, 2, 1, 2, 2, 1],
      [1, 2, 2, 2, 1, 1, 2, 2, 2, 1],
      [1, 2, 2, 2, 2, 2, 2, 2, 2, 1],
      [1, 2, 2, 2, 1, 2, 2, 2, 2, 1],
      [1, 2, 2, 2, 2, 2, 2, 2, 2, 1],
      [1, 2, 2, 2, 2, 2, 2, 2, 2, 1],
      [1, 2, 2, 3, 3, 2, 2, 2, 2, 1],
      [1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
    ],
    [
      [1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
      [1, 2, 2, 2, 2, 2, 2, 2, 2, 1],
      [1, 2, 2, 2, 2, 2, 2, 2, 2, 1],
      [1, 2, 2, 2, 2, 1, 1, 2, 2, 1],
      [1, 2, 2, 2, 2, 2, 1, 2, 2, 1],
      [1, 2, 2, 2, 2, 2, 2, 2, 2, 1],
      [1, 2, 2, 1, 2, 2, 2, 2, 2, 1],
      [1, 2, 2, 2, 3, 2, 2, 2, 2, 1],
      [1, 2, 2, 2, 3, 2, 2, 2, 2, 1],
      [1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
    ],
    [
      [1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
      [1, 2, 2, 2, 2, 2, 2, 2, 2, 1],
      [1, 2, 2, 2, 2, 2, 2, 2, 2, 1],
      [1, 2, 2, 2, 2, 2, 2, 2, 2, 1],
      [1, 2, 1, 2, 1, 1, 2, 2, 2, 1],
      [1, 2, 2, 2, 2, 2, 2, 2, 2, 1],
      [1, 2, 2, 2, 2, 2, 3, 2, 2, 1],
      [1, 2, 2, 1, 2, 2, 2, 3, 2, 1],
      [1, 2, 2, 2, 2, 2, 2, 2, 2, 1],
      [1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
    ],
  ];

  function nextMap(index: number) {
    if (index >= 0 && index < newMap.length) {
      if (Array.isArray(newMap[index])) {
        map.splice(0, map.length);
        map.push(...newMap[index]);
      } else {
        console.error("newMap[index] is not Array");
      }
    } else {
      console.error("Index out of bounds");
    }
  }

  return {
    nextMap,
  };
});
